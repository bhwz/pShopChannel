{% extends 'layout.html' %}

{% block content %}
    <h1>{{ title }}</h1>

    <div class="row">
        <div class="col-md-8">
            {{ rendered_description|safe }}
        </div>
        <div class="col-md-4">
            <!-- TODO: This should eventually be catalog.order -->
            <form action="{{ url_for('catalog.product', pid=product.id) }}" method="post" role="form">
                {{ form.hidden_tag() }}
                <div class="form-group">
                    <label for="item">{{ form.item.label.text }}</label>
                    <select class="form-control" id="item" name="item">
                        <option value="{{ product.id }}">{{ product.name }} - {{ "$%.2f"|format(product.price/100) }}</option>
                            {% for variation in variations %}
                                <option value="{{ variation.id }}">{{ variation.name }} - {{ "$%.2f"|format(variation.price/100) }}</option>
                            {% endfor %}
                    </select>
                    <small id="itemHelpBlock" class="form-text text-muted">
                        If this item has any variations, you can use this drop down to pick one.
                    </small>
                </div>

                <div class="form-group">
                    <label for="quantity">{{ form.quantity.label.text }}</label>
                    <input type="number" min="1" step="1" value="1" id="quantity" name="quantity">
                    <small id="quantityHelpBlock" class="form-text text-muted">
                        <!-- How many of this exact item to add to your cart. // TODO: Does this really need help? -->
                    </small>
                </div>

                <div class="form-group">
                    <label for="notes">{{ form.notes.label.text }}</label>
                    <textarea class="form-control" id="notes" name="notes" rows="4"></textarea>
                    <small id="notesHelpBlock" class="form-text text-muted">
                        If you have any notes you would like to attach to this order, you may do so by typing them here.
                    </small>
                </div>

                <div class="form-group form-check">
                    <div class="float-right">
                        <button type="submit" class="btn btn-outline-primary">{{ form.submit.label.text }}</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
{% endblock %}
